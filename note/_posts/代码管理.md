---
title: 代码管理
date:  2019/12/13 09:21:12
tags: 
- 科普
---

# 代码管理

大公司内部对代码管理都比较严。

每次提交（git push）会触发CI系统，CI系统对代码进行检查，如果不通过就会打回，通过了就会到code review这一步，一般是团队leader或者骨干帮你人工看代码，进行打分。review通过了，你的代码才会被合并到库里。

然后会有一个度量系统统计每个人每个月代码提交情况，每个人每个月写了多少代码，增了多少行，删了多少行，代码通过率，都有详细的柱状图，展示在大屏上。

### 个人代码管理

本地初始化git仓库，然后push到github上，注意避免远端git与本地git的冲突。

在做代码演示或者存放实例代码时，用jsfiddle


<iframe  style="width: 100%; height: 300px"  src=" https://jsfiddle.net/gL0t5o4j/embedded/result,html,css,js/"></iframe>

### 企业级代码管理进化史

##### svn——gitlab——gerrit（主要强在工作流和代码检查和评审）

### 持续集成系统

CI系统一般会执行两种检查，一种是增量检查，就是每次提交代码的时候的检查。一种是全量检查，一般是每天0点进行一次，叫全量检查，会对库里的代码进行全面的检查，比增量检查更全面。

用持续集成系统（Continuous Integration）(CI),指的是代码仓库只要有代码变更（或者说有人想推代码入库），就会自动执行预先设计好的检查、防护流程，运行一系列构建、测试、部署等流程，并最终告知每一步的运行结果，确保人提交上来的代码没有问题后，才有机会将新代码合并到主干分支，而主干分支无论何时都一定是正确可运行的高质量版本，可以随时交付客户使用！

持续集成的词面意思其实某一程度上也道出了该做法思想的精髓：即小步快走！持续地去做代码集成！

我们希望代码每次只做小幅度变更，但立马就能看到变更的结果。我们希望通过一次次频繁地对靠谱小变更的积累，来保证主干分支代码随时高可用；而不是在一个完整的大功能模块开发完之后才一次性合入代码。

那本文接下来就介绍几种常见的开源免费持续集成工具，具体用法各个工具项目主页都写得很清楚，网上也有很多博文可供参考。

#### Travis CI

Travis CI是一个广泛使用的CI工具，因为它简直是Github爱好者的福音，而且用户份额很大。其支持绝大部分主流编程语言，包括但不限于：C、Java、Python、PHP等等。目前有超过90万的开源项目、60万的用户在使用Travis CI来作为他们的持续集成工具。


Travis CI最大的特色和便利店是其与开源社区Github兼容得非常好，它可以极其方便地帮你为Github上的开源项目仓库快速地拉起一个持续集成防护网，而且对于开源项目完全免费，不花一分钱，这对学习者非常友好。

而且Travis CI的用法也不复杂，也不需要你写什么复杂代码，它是用过 yml配置文件的形式来指定Travis CI要做的事情，来满足你的流程规划，先做什么，再做什么，最后做什么，挺方便。

#### jenkins

大名鼎鼎的Jenkins简直如雷贯耳，国内很多的通信大厂、互联网大厂都正在使用中！

Jenkins是一款开源的 CI&CD 工具，工具本身是Java写的，然而却支持各种编程语言项目的自动化任务，包括构建、测试、部署等。

Jenkins一直是开源CI&CD软件领导者， 安装简易、配置简单、提供超过1000个插件来支持构建、部署、自动化， 满足任何项目的需要。Jenkins 支持各种运行方式，可通过系统包安装、也可以作为Java程序安装，甚至可以通过Docker来安装。而且Jenkins在企业级开发中可以非常便捷地与SVN、Git等代码管理工具无缝对接！

如今已经步入2.0时代的Jenkins系统，其最大的特色便是加入了Pipeline流水线功能，Pipeline的加持，让Jenkins系统对项目做持续集成时变得更加灵活和强大。

必须要说的是，Jenkins系统现在确实越来越庞大，越来越“重”了，如果真是个小项目那它来做持续集成有点浪费了。

#### circle CI

#### Drone CI

更轻量